/*
 * Copyright (c) 2017-2021, NVIDIA CORPORATION.  All rights reserved.
 *
 * This program is free software; you can redistribute it and/or modify it
 * under the terms and conditions of the GNU General Public License,
 * version 2, as published by the Free Software Foundation.
 *
 * This program is distributed in the hope it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
 * more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */


//new file created for 2x cam on X230D(fd)
#include "dt-bindings/clock/tegra234-clock.h"

#define CAM0_RST_L	TEGRA234_MAIN_GPIO(H, 3)
#define CAM0_PWDN	TEGRA234_MAIN_GPIO(H, 6)
#define CAM1_RST_L	TEGRA234_MAIN_GPIO(AC, 1)
#define CAM1_PWDN	TEGRA234_MAIN_GPIO(AC, 0)
#define CAM2_RST_L	TEGRA234_MAIN_GPIO(AC, 3)
#define CAM2_PWDN	TEGRA234_MAIN_GPIO(AC, 2)
#define CAM3_RST_L	TEGRA234_MAIN_GPIO(H, 4)
#define CAM3_PWDN	TEGRA234_MAIN_GPIO(H, 5)

#define CAM_TRIGGER	TEGRA234_MAIN_GPIO(R, 0)

#define CAMERA_I2C_MUX_BUS(x) (0x1E + x)


//new file created for 4x cam on X230(D) + M222					(fd)

/ {

	gpio@2200000 {
		camera-control-output-low {
			gpio-hog;
			output-low;
			gpios = <CAM0_RST_L 0 CAM0_PWDN 0
				 CAM1_RST_L 0 CAM1_PWDN 0>;
			label = "cam0-rst", "cam0-pwdn",
				"cam1-rst", "cam1-pwdn";
		};
		camera-trigger-output-high {
			gpio-hog;
			output-high;
			gpios = <CAM_TRIGGER 0>;
			label = "cam-trigger";
		};
	};


	tegra-capture-vi {
		status = "okay";
		num-channels = <4>;
		ports {
			status = "okay";
			#address-cells = <1>;
			#size-cells = <0>;
			vi_port0: port@0 {								//M222 CSI 01		
				status = "okay";
				reg = <0>;
				eg_cams_vi_in0: endpoint {
					status = "okay";
					port-index = <0>;
					bus-width = <2>;
					remote-endpoint = <&eg_cams_csi_out0>;
				};
			};
			vi_port1: port@1 {								//M222 CSI 67		
				status = "okay";
				reg = <1>;
				eg_cams_vi_in1: endpoint {
					status = "okay";
					port-index = <5>;
					bus-width = <2>;
					remote-endpoint = <&eg_cams_csi_out1>;
				};
			};
			vi_port2: port@2 {								//M222 CSI 45	
				status = "okay";
				reg = <2>;
				eg_cams_vi_in2: endpoint {
					status = "okay";
					port-index = <4>;
					bus-width = <2>;
					remote-endpoint = <&eg_cams_csi_out2>;
				};
			};
			vi_port3: port@3 {								//M222 CSI 23
				status = "okay";
				reg = <3>;
				eg_cams_vi_in3: endpoint {
					status = "okay";
					port-index = <2>;
					bus-width = <2>;
					remote-endpoint = <&eg_cams_csi_out3>;
				};
			};
		};
	};

	host1x@13e00000 {
		nvcsi@15a00000 {
			status = "okay";
			num-channels = <4>;
			#address-cells = <1>;
			#size-cells = <0>;
			csi_chan0: channel@0 {								//M222 CSI 01		
				status = "okay";
				reg = <0>;
				ports {
					status = "okay";
					#address-cells = <1>;
					#size-cells = <0>;
					csi_chan0_port0: port@0 {
						status = "okay";
						reg = <0>;
						eg_cams_csi_in0: endpoint@0 {
							status = "okay";
							port-index = <0>;
							bus-width = <2>;
							remote-endpoint = <&xenics_dione_ir_out0>;
						};
					};
					csi_chan0_port1: port@1 {
						status = "okay";
						reg = <1>;
						eg_cams_csi_out0: endpoint@1 {
							status = "okay";
							remote-endpoint = <&eg_cams_vi_in0>;
						};
					};
				};
			};
			csi_chan1: channel@1 {								//M222 CSI 67		
				status = "okay";
				reg = <1>;
				ports {
					status = "okay";
					#address-cells = <1>;
					#size-cells = <0>;
					csi_chan1_port0: port@0 {
						status = "okay";
						reg = <0>;
						eg_cams_csi_in1: endpoint@0 {
							status = "okay";
							port-index = <6>;
							bus-width = <2>;
							remote-endpoint = <&xenics_dione_ir_out1>;
						};
					};
					csi_chan1_port1: port@1 {
						status = "okay";
						reg = <1>;
						eg_cams_csi_out1: endpoint@1 {
							status = "okay";
							remote-endpoint = <&eg_cams_vi_in1>;
						};
					};
				};
			};
			csi_chan2: channel@2 {								//M222 CSI 45		
				status = "okay";
				reg = <2>;
				ports {
					status = "okay";
					#address-cells = <1>;
					#size-cells = <0>;
					csi_chan2_port0: port@0 {
						status = "okay";
						reg = <0>;
						eg_cams_csi_in2: endpoint@0 {
							status = "okay";
							port-index = <4>;
							bus-width = <2>;
							remote-endpoint = <&xenics_dione_ir_out2>;
						};
					};
					csi_chan2_port1: port@1 {
						status = "okay";
						reg = <1>;
						eg_cams_csi_out2: endpoint@1 {
							status = "okay";
							remote-endpoint = <&eg_cams_vi_in2>;
						};
					};
				};
			};
			csi_chan3: channel@3 {								//M222 CSI 23
				status = "okay";
				reg = <3>;
				ports {
					status = "okay";
					#address-cells = <1>;
					#size-cells = <0>;
					csi_chan3_port0: port@0 {
						status = "okay";
						reg = <0>;
						eg_cams_csi_in3: endpoint@0 {
							status = "okay";
							port-index = <2>;
							bus-width = <2>;
							remote-endpoint = <&xenics_dione_ir_out3>;
						};
					};
					csi_chan3_port1: port@1 {
						status = "okay";
						reg = <1>;
						eg_cams_csi_out3: endpoint@1 {
							status = "okay";
							remote-endpoint = <&eg_cams_vi_in3>;
						};
					};
				};
			};
		};
	};

	i2c@31e0000 {											//M222 CSI 01		
      dione_ir_cam0: xenics_dione_ir_a@0e {
         compatible = "xenics,dioneir";
         /* I2C device address */
         reg = <0x0e>;
         fpga-address = <0x5a 0x5b 0x5c 0x5d>;

         /* V4L2 device node location */
         devnode = "video0";

         /* Physical dimensions of sensor */
         physical_w = "7.680";
         physical_h = "5.760";

         sensor_model = "dione_ir";

         use_sensor_mode_id = "false";

         /**
         * ==== Modes ====
         * A modeX node is required to support v4l2 driver
         * implementation with NVIDIA camera software stack
         *
         * == Signal properties ==
         *
         * phy_mode = "";
         * PHY mode used by the MIPI lanes for this device
         *
         * tegra_sinterface = "";
         * CSI Serial interface connected to tegra
         * Incase of virtual HW devices, use virtual
         * For SW emulated devices, use host
         *
         * pix_clk_hz = "";
         * Sensor pixel clock used for calculations like exposure and framerate
         *
         * readout_orientation = "0";
         * Based on camera module orientation.
         * Only change readout_orientation if you specifically
         * Program a different readout order for this mode
         *
         * == Image format Properties ==
         *
         * active_w = "";
         * Pixel active region width
         *
         * active_h = "";
         * Pixel active region height
         *
         * pixel_t = "";
         * The sensor readout pixel pattern
         *
         * line_length = "";
         * Pixel line length (width) for sensor mode.
         *
         * == Source Control Settings ==
         *
         * Gain factor used to convert fixed point integer to float
         * Gain range [min_gain/gain_factor, max_gain/gain_factor]
         * Gain step [step_gain/gain_factor is the smallest step that can be configured]
         * Default gain [Default gain to be initialized for the control.
         *     use min_gain_val as default for optimal results]
         * Framerate factor used to convert fixed point integer to float
         * Framerate range [min_framerate/framerate_factor, max_framerate/framerate_factor]
         * Framerate step [step_framerate/framerate_factor is the smallest step that can be configured]
         * Default Framerate [Default framerate to be initialized for the control.
         *     use max_framerate to get required performance]
         * Exposure factor used to convert fixed point integer to float
         * For convenience use 1 sec = 1000000us as conversion factor
         * Exposure range [min_exp_time/exposure_factor, max_exp_time/exposure_factor]
         * Exposure step [step_exp_time/exposure_factor is the smallest step that can be configured]
         * Default Exposure Time [Default exposure to be initialized for the control.
         *     Set default exposure based on the default_framerate for optimal exposure settings]
         *
         * gain_factor = ""; (integer factor used for floating to fixed point conversion)
         * min_gain_val = ""; (ceil to integer)
         * max_gain_val = ""; (ceil to integer)
         * step_gain_val = ""; (ceil to integer)
         * default_gain = ""; (ceil to integer)
         * Gain limits for mode
         *
         * exposure_factor = ""; (integer factor used for floating to fixed point conversion)
         * min_exp_time = ""; (ceil to integer)
         * max_exp_time = ""; (ceil to integer)
         * step_exp_time = ""; (ceil to integer)
         * default_exp_time = ""; (ceil to integer)
         * Exposure Time limits for mode (sec)
         *
         * framerate_factor = ""; (integer factor used for floating to fixed point conversion)
         * min_framerate = ""; (ceil to integer)
         * max_framerate = ""; (ceil to integer)
         * step_framerate = ""; (ceil to integer)
         * default_framerate = ""; (ceil to integer)
         * Framerate limits for mode (fps)
         *
         * embedded_metadata_height = "";
         * Sensor embedded metadata height in units of rows.
         * If sensor does not support embedded metadata value should be 0.
         */
         
         mode0 { /* DIONE_IR_MODE_640x480_60FPS */
            mclk_khz = "24000";
            num_lanes = "2";
            tegra_sinterface = "serial_a";
            phy_mode = "DPHY";
            discontinuous_clk = "no";
            dpcm_enable = "false";
            cil_settletime = "0";

            active_w = "640";
            active_h = "480";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            readout_orientation = "0";
            line_length = "694";
            /* inherent_gain = "1"; */
            /* mclk_multiplier = "9.33"; */
            pix_clk_hz = "20000000";

            /* unused */
            gain_factor = "16";
            exposure_factor = "1000000";
            min_gain_val = "16"; /* 1.00x */
            max_gain_val = "170"; /* 10.66x */
            step_gain_val = "1";
            default_gain = "16"; /* 1.00x */
            min_hdr_ratio = "1";
            max_hdr_ratio = "1";

            /* framerate */
            framerate_factor = "1000000";
            min_framerate = "40000000"; /* 40 fps */
            max_framerate = "62000000"; /* 62 fps */
            step_framerate = "1";
            default_framerate = "60020000"; /* 60.020 fps */

            /* unused */
            min_exp_time = "13"; /* us */
            max_exp_time = "683709"; /* us */
            step_exp_time = "1";
            default_exp_time = "2495"; /* us */

            embedded_metadata_height = "0";
         };

         mode1 { /* DIONE_IR_MODE_1280x1024_60FPS */
            mclk_khz = "24000";
            num_lanes = "2";
            tegra_sinterface = "serial_a";
            phy_mode = "DPHY";
            discontinuous_clk = "no";
            dpcm_enable = "false";
            cil_settletime = "0";

            active_w = "1280";
            active_h = "1024";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            readout_orientation = "0";
            line_length = "1334";
            /* inherent_gain = "1"; */
            /* mclk_multiplier = "9.33"; */
            pix_clk_hz = "83000000";

            /* unused */
            gain_factor = "16";
            exposure_factor = "1000000";
            min_gain_val = "16"; /* 1.00x */
            max_gain_val = "170"; /* 10.66x */
            step_gain_val = "1";
            default_gain = "16"; /* 1.00x */
            min_hdr_ratio = "1";
            max_hdr_ratio = "1";

            /* framerate */
            framerate_factor = "1000000";
            min_framerate = "40000000"; /* 40 fps */
            max_framerate = "62000000"; /* 62 fps */
            step_framerate = "1";
            default_framerate = "60756000"; /* 60.756 fps */

            /* unused */
            min_exp_time = "13"; /* us */
            max_exp_time = "683709"; /* us */
            step_exp_time = "1";
            default_exp_time = "2495"; /* us */

            embedded_metadata_height = "0";
         };

         mode2 { /* DIONE_IR_MODE_320x240_60FPS */
            mclk_khz = "24000";
            num_lanes = "2";
            tegra_sinterface = "serial_a";
            phy_mode = "DPHY";
            discontinuous_clk = "no";
            dpcm_enable = "false";
            cil_settletime = "0";

            active_w = "320";
            active_h = "240";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            readout_orientation = "0";
            line_length = "1404";
            /* inherent_gain = "1"; */
            /* mclk_multiplier = "9.33"; */
            pix_clk_hz = "20000000";

            /* unused */
            gain_factor = "16";
            exposure_factor = "1000000";
            min_gain_val = "16"; /* 1.00x */
            max_gain_val = "170"; /* 10.66x */
            step_gain_val = "1";
            default_gain = "16"; /* 1.00x */
            min_hdr_ratio = "1";
            max_hdr_ratio = "1";

            /* framerate */
            framerate_factor = "1000000";
            min_framerate = "40000000"; /* 40 fps */
            max_framerate = "62000000"; /* 62 fps */
            step_framerate = "1";
            default_framerate = "60020000"; /* 60.020 fps */

            /* unused */
            min_exp_time = "13"; /* us */
            max_exp_time = "683709"; /* us */
            step_exp_time = "1";
            default_exp_time = "2495"; /* us */

            embedded_metadata_height = "0";
         };

         mode3 { /* DIONE_IR_MODE_1024x768_60FPS */
            mclk_khz = "24000";
            num_lanes = "2";
            tegra_sinterface = "serial_a";
            phy_mode = "DPHY";
            discontinuous_clk = "no";
            dpcm_enable = "false";
            cil_settletime = "0";

            active_w = "1024";
            active_h = "768";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            readout_orientation = "0";
            line_length = "1079";
            /* inherent_gain = "1"; */
            /* mclk_multiplier = "9.33"; */
            pix_clk_hz = "83000000";

            /* unused */
            gain_factor = "16";
            exposure_factor = "1000000";
            min_gain_val = "16"; /* 1.00x */
            max_gain_val = "170"; /* 10.66x */
            step_gain_val = "1";
            default_gain = "16"; /* 1.00x */
            min_hdr_ratio = "1";
            max_hdr_ratio = "1";

            /* framerate */
            framerate_factor = "1000000";
            min_framerate = "40000000"; /* 40 fps */
            max_framerate = "62000000"; /* 62 fps */
            step_framerate = "1";
            default_framerate = "60756000"; /* 60.756 fps */

            /* unused */
            min_exp_time = "13"; /* us */
            max_exp_time = "683709"; /* us */
            step_exp_time = "1";
            default_exp_time = "2495"; /* us */

            embedded_metadata_height = "0";
         };

         ports {
            #address-cells = <1>;
            #size-cells = <0>;
            port@0 {
               reg = <0>;
               xenics_dione_ir_out0: endpoint {
                  port-index = <0>;
                  bus-width = <2>;
                  remote-endpoint = <&eg_cams_csi_in0>;
                  link-frequencies = /bits/ 64 <240000000 497000000>;
               };
            };
         };
      };
      eg_ec_cam0: eg_ec_a@16 {
         compatible = "xenics,eg-ec-mipi";
         /* I2C device address */
         reg = <0x16>;
         status = "disabled";

         /* V4L2 device node location */
         devnode = "video0";

         sensor_model = "eg_ec";

         use_sensor_mode_id = "true";

         /**
         * ==== Modes ====
         * A modeX node is required to support v4l2 driver
         * implementation with NVIDIA camera software stack
         *
         * == Signal properties ==
         *
         * phy_mode = "";
         * PHY mode used by the MIPI lanes for this device
         *
         * tegra_sinterface = "";
         * CSI Serial interface connected to tegra
         * Incase of virtual HW devices, use virtual
         * For SW emulated devices, use host
         *
         * pix_clk_hz = "";
         * Sensor pixel clock used for calculations like exposure and framerate
         *
         * readout_orientation = "0";
         * Based on camera module orientation.
         * Only change readout_orientation if you specifically
         * Program a different readout order for this mode
         *
         * == Image format Properties ==
         *
         * active_w = "";
         * Pixel active region width
         *
         * active_h = "";
         * Pixel active region height
         *
         * pixel_t = "";
         * The sensor readout pixel pattern
         *
         * line_length = "";
         * Pixel line length (width) for sensor mode.
         *
         * == Source Control Settings ==
         *
         * Gain factor used to convert fixed point integer to float
         * Gain range [min_gain/gain_factor, max_gain/gain_factor]
         * Gain step [step_gain/gain_factor is the smallest step that can be configured]
         * Default gain [Default gain to be initialized for the control.
         *     use min_gain_val as default for optimal results]
         * Framerate factor used to convert fixed point integer to float
         * Framerate range [min_framerate/framerate_factor, max_framerate/framerate_factor]
         * Framerate step [step_framerate/framerate_factor is the smallest step that can be configured]
         * Default Framerate [Default framerate to be initialized for the control.
         *     use max_framerate to get required performance]
         * Exposure factor used to convert fixed point integer to float
         * For convenience use 1 sec = 1000000us as conversion factor
         * Exposure range [min_exp_time/exposure_factor, max_exp_time/exposure_factor]
         * Exposure step [step_exp_time/exposure_factor is the smallest step that can be configured]
         * Default Exposure Time [Default exposure to be initialized for the control.
         *     Set default exposure based on the default_framerate for optimal exposure settings]
         *
         * gain_factor = ""; (integer factor used for floating to fixed point conversion)
         * min_gain_val = ""; (ceil to integer)
         * max_gain_val = ""; (ceil to integer)
         * step_gain_val = ""; (ceil to integer)
         * default_gain = ""; (ceil to integer)
         * Gain limits for mode
         *
         * exposure_factor = ""; (integer factor used for floating to fixed point conversion)
         * min_exp_time = ""; (ceil to integer)
         * max_exp_time = ""; (ceil to integer)
         * step_exp_time = ""; (ceil to integer)
         * default_exp_time = ""; (ceil to integer)
         * Exposure Time limits for mode (sec)
         *
         * framerate_factor = ""; (integer factor used for floating to fixed point conversion)
         * min_framerate = ""; (ceil to integer)
         * max_framerate = ""; (ceil to integer)
         * step_framerate = ""; (ceil to integer)
         * default_framerate = ""; (ceil to integer)
         * Framerate limits for mode (fps)
         *
         * embedded_metadata_height = "";
         * Sensor embedded metadata height in units of rows.
         * If sensor does not support embedded metadata value should be 0.
         */
         mode0 { // EC_MODE_640x480_RAW16
            num_lanes = "2";
            tegra_sinterface = "serial_a";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "640";
            active_h = "480";
            line_length = "640";
            mode_type = "raw";
            pixel_phase = "grey";
            csi_pixel_bit_depth = "16";
            pix_clk_hz = "100000000";
            embedded_metadata_height = "0";
         };
         mode1 { // EC_MODE_640x480_RGB888
            num_lanes = "2";
            tegra_sinterface = "serial_a";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "640";
            active_h = "480";
            line_length = "640";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            pix_clk_hz = "100000000";
            embedded_metadata_height = "0";
         };
         mode2 { // EC_MODE_640x480_YUYV
            num_lanes = "2";
            tegra_sinterface = "serial_a";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "640";
            active_h = "480";
            line_length = "640";
            mode_type = "yuv";
            pixel_phase = "yuyv";
            csi_pixel_bit_depth = "16";
            pix_clk_hz = "100000000";
            embedded_metadata_height = "0";
         };
         mode3 { // EC_MODE_1280x1024_RAW16
            num_lanes = "2";
            tegra_sinterface = "serial_a";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "1280";
            active_h = "1024";
            line_length = "1280";
            mode_type = "raw";
            pixel_phase = "grey";
            csi_pixel_bit_depth = "16";
            pix_clk_hz = "133333336";
            embedded_metadata_height = "0";
         };
         mode4 { // EC_MODE_1280x1024_RGB888
            num_lanes = "2";
            tegra_sinterface = "serial_a";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "1280";
            active_h = "1024";
            line_length = "1280";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            pix_clk_hz = "100000000";
            embedded_metadata_height = "0";
         };
         mode5 { // EC_MODE_1280x1024_YUYV
            num_lanes = "2";
            tegra_sinterface = "serial_a";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "1280";
            active_h = "1024";
            line_length = "1280";
            mode_type = "yuv";
            pixel_phase = "yuyv";
            csi_pixel_bit_depth = "16";
            pix_clk_hz = "133333336";
            embedded_metadata_height = "0";
         };

         ports {
            #address-cells = <1>;
            #size-cells = <0>;
            port@0 {
               reg = <0>;
               eg_ec_out0: endpoint {
                  port-index = <0>;
                  bus-width = <2>;
                  remote-endpoint = <&eg_cams_csi_in0>;
               };
            };
         };
      };
	};
	i2c@c240000 {												//M222 CSI 67			
      dione_ir_cam1: xenics_dione_ir_g@0e {
         compatible = "xenics,dioneir";
         reg = <0x0e>;
         fpga-address = <0x5a 0x5b 0x5c 0x5d>;

         // V4L2 device node location
         devnode = "video1";

         /* Physical dimensions of sensor */
         physical_w = "7.680";
         physical_h = "5.760";

         sensor_model = "dione_ir";

         use_sensor_mode_id = "false";

         mode0 { /* DIONE_IR_MODE_640x480_60FPS */
            mclk_khz = "24000";
            num_lanes = "2";
            tegra_sinterface = "serial_g";
            phy_mode = "DPHY";
            discontinuous_clk = "no";
            dpcm_enable = "false";
            cil_settletime = "0";

            active_w = "640";
            active_h = "480";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            readout_orientation = "0";
            line_length = "694";
            /* inherent_gain = "1"; */
            /* mclk_multiplier = "9.33"; */
            pix_clk_hz = "20000000";

            /* unused */
            gain_factor = "16";
            exposure_factor = "1000000";
            min_gain_val = "16"; /* 1.00x */
            max_gain_val = "170"; /* 10.66x */
            step_gain_val = "1";
            default_gain = "16"; /* 1.00x */
            min_hdr_ratio = "1";
            max_hdr_ratio = "1";

            /* framerate */
            framerate_factor = "1000000";
            min_framerate = "40000000"; /* 40 fps */
            max_framerate = "62000000"; /* 62 fps */
            step_framerate = "1";
            default_framerate = "60020000"; /* 60.020 fps */

            /* unused */
            min_exp_time = "13"; /* us */
            max_exp_time = "683709"; /* us */
            step_exp_time = "1";
            default_exp_time = "2495"; /* us */

            embedded_metadata_height = "0";
         };

         mode1 { /* DIONE_IR_MODE_1280x1024_60FPS */
            mclk_khz = "24000";
            num_lanes = "2";
            tegra_sinterface = "serial_g";
            phy_mode = "DPHY";
            discontinuous_clk = "no";
            dpcm_enable = "false";
            cil_settletime = "0";

            active_w = "1280";
            active_h = "1024";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            readout_orientation = "0";
            line_length = "1334";
            /* inherent_gain = "1"; */
            /* mclk_multiplier = "9.33"; */
            pix_clk_hz = "83000000";

            /* unused */
            gain_factor = "16";
            exposure_factor = "1000000";
            min_gain_val = "16"; /* 1.00x */
            max_gain_val = "170"; /* 10.66x */
            step_gain_val = "1";
            default_gain = "16"; /* 1.00x */
            min_hdr_ratio = "1";
            max_hdr_ratio = "1";

            /* framerate */
            framerate_factor = "1000000";
            min_framerate = "40000000"; /* 40 fps */
            max_framerate = "62000000"; /* 62 fps */
            step_framerate = "1";
            default_framerate = "60756000"; /* 60.756 fps */

            /* unused */
            min_exp_time = "13"; /* us */
            max_exp_time = "683709"; /* us */
            step_exp_time = "1";
            default_exp_time = "2495"; /* us */

            embedded_metadata_height = "0";
         };

         mode2 { /* DIONE_IR_MODE_320x240_60FPS */
            mclk_khz = "24000";
            num_lanes = "2";
            tegra_sinterface = "serial_g";
            phy_mode = "DPHY";
            discontinuous_clk = "no";
            dpcm_enable = "false";
            cil_settletime = "0";

            active_w = "320";
            active_h = "240";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            readout_orientation = "0";
            line_length = "1404";
            /* inherent_gain = "1"; */
            /* mclk_multiplier = "9.33"; */
            pix_clk_hz = "20000000";

            /* unused */
            gain_factor = "16";
            exposure_factor = "1000000";
            min_gain_val = "16"; /* 1.00x */
            max_gain_val = "170"; /* 10.66x */
            step_gain_val = "1";
            default_gain = "16"; /* 1.00x */
            min_hdr_ratio = "1";
            max_hdr_ratio = "1";

            /* framerate */
            framerate_factor = "1000000";
            min_framerate = "40000000"; /* 40 fps */
            max_framerate = "62000000"; /* 62 fps */
            step_framerate = "1";
            default_framerate = "60020000"; /* 60.020 fps */

            /* unused */
            min_exp_time = "13"; /* us */
            max_exp_time = "683709"; /* us */
            step_exp_time = "1";
            default_exp_time = "2495"; /* us */

            embedded_metadata_height = "0";
         };

         mode3 { /* DIONE_IR_MODE_1024x768_60FPS */
            mclk_khz = "24000";
            num_lanes = "2";
            tegra_sinterface = "serial_g";
            phy_mode = "DPHY";
            discontinuous_clk = "no";
            dpcm_enable = "false";
            cil_settletime = "0";

            active_w = "1024";
            active_h = "768";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            readout_orientation = "0";
            line_length = "1079";
            /* inherent_gain = "1"; */
            /* mclk_multiplier = "9.33"; */
            pix_clk_hz = "83000000";

            /* unused */
            gain_factor = "16";
            exposure_factor = "1000000";
            min_gain_val = "16"; /* 1.00x */
            max_gain_val = "170"; /* 10.66x */
            step_gain_val = "1";
            default_gain = "16"; /* 1.00x */
            min_hdr_ratio = "1";
            max_hdr_ratio = "1";

            /* framerate */
            framerate_factor = "1000000";
            min_framerate = "40000000"; /* 40 fps */
            max_framerate = "62000000"; /* 62 fps */
            step_framerate = "1";
            default_framerate = "60756000"; /* 60.756 fps */

            /* unused */
            min_exp_time = "13"; /* us */
            max_exp_time = "683709"; /* us */
            step_exp_time = "1";
            default_exp_time = "2495"; /* us */

            embedded_metadata_height = "0";
         };

         ports {
            #address-cells = <1>;
            #size-cells = <0>;
            port@0 {
               reg = <0>;
               xenics_dione_ir_out1: endpoint {
                  port-index = <6>;
                  bus-width = <2>;
                  remote-endpoint = <&eg_cams_csi_in1>;
                  link-frequencies = /bits/ 64 <240000000 497000000>;
               };
            };
         };
      };
      eg_ec_cam1: eg_ec_g@16 {
         compatible = "xenics,eg-ec-mipi";
         reg = <0x16>;
         status = "disabled";

         // V4L2 device node location
         devnode = "video1";

         sensor_model = "eg_ec";

         use_sensor_mode_id = "true";

         mode0 { // EC_MODE_640x480_RAW16
            num_lanes = "2";
            tegra_sinterface = "serial_g";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "640";
            active_h = "480";
            line_length = "640";
            mode_type = "raw";
            pixel_phase = "grey";
            csi_pixel_bit_depth = "16";
            pix_clk_hz = "100000000";
            embedded_metadata_height = "0";
         };
         mode1 { // EC_MODE_640x480_RGB888
            num_lanes = "2";
            tegra_sinterface = "serial_g";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "640";
            active_h = "480";
            line_length = "640";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            pix_clk_hz = "100000000";
            embedded_metadata_height = "0";
         };
         mode2 { // EC_MODE_640x480_YUYV
            num_lanes = "2";
            tegra_sinterface = "serial_g";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "640";
            active_h = "480";
            line_length = "640";
            mode_type = "yuv";
            pixel_phase = "yuyv";
            csi_pixel_bit_depth = "16";
            pix_clk_hz = "100000000";
            embedded_metadata_height = "0";
         };
         mode3 { // EC_MODE_1280x1024_RAW16
            num_lanes = "2";
            tegra_sinterface = "serial_g";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "1280";
            active_h = "1024";
            line_length = "1280";
            mode_type = "raw";
            pixel_phase = "grey";
            csi_pixel_bit_depth = "16";
            pix_clk_hz = "133333336";
            embedded_metadata_height = "0";
         };
         mode4 { // EC_MODE_1280x1024_RGB888
            num_lanes = "2";
            tegra_sinterface = "serial_g";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "1280";
            active_h = "1024";
            line_length = "1280";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            pix_clk_hz = "100000000";
            embedded_metadata_height = "0";
         };
         mode5 { // EC_MODE_1280x1024_YUYV
            num_lanes = "2";
            tegra_sinterface = "serial_g";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "1280";
            active_h = "1024";
            line_length = "1280";
            mode_type = "yuv";
            pixel_phase = "yuyv";
            csi_pixel_bit_depth = "16";
            pix_clk_hz = "133333336";
            embedded_metadata_height = "0";
         };
         ports {
            #address-cells = <1>;
            #size-cells = <0>;
            port@0 {
               reg = <0>;
               eg_ec_out1: endpoint {
                  port-index = <6>;
                  bus-width = <2>;
                  remote-endpoint = <&eg_cams_csi_in1>;
               };
            };
         };
      };
	};
	i2c@c250000 {												//M222 CSI 45	
      dione_ir_cam2: xenics_dione_ir_e@0e {
         compatible = "xenics,dioneir";
         reg = <0x0e>;
         fpga-address = <0x5a 0x5b 0x5c 0x5d>;

         // V4L2 device node location
         devnode = "video2";

         /* Physical dimensions of sensor */
         physical_w = "7.680";
         physical_h = "5.760";

         sensor_model = "dione_ir";

         use_sensor_mode_id = "false";

         mode0 { /* DIONE_IR_MODE_640x480_60FPS */
            mclk_khz = "24000";
            num_lanes = "2";
            tegra_sinterface = "serial_e";
            phy_mode = "DPHY";
            discontinuous_clk = "no";
            dpcm_enable = "false";
            cil_settletime = "0";

            active_w = "640";
            active_h = "480";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            readout_orientation = "0";
            line_length = "694";
            /* inherent_gain = "1"; */
            /* mclk_multiplier = "9.33"; */
            pix_clk_hz = "20000000";

            /* unused */
            gain_factor = "16";
            exposure_factor = "1000000";
            min_gain_val = "16"; /* 1.00x */
            max_gain_val = "170"; /* 10.66x */
            step_gain_val = "1";
            default_gain = "16"; /* 1.00x */
            min_hdr_ratio = "1";
            max_hdr_ratio = "1";

            /* framerate */
            framerate_factor = "1000000";
            min_framerate = "40000000"; /* 40 fps */
            max_framerate = "62000000"; /* 62 fps */
            step_framerate = "1";
            default_framerate = "60020000"; /* 60.020 fps */

            /* unused */
            min_exp_time = "13"; /* us */
            max_exp_time = "683709"; /* us */
            step_exp_time = "1";
            default_exp_time = "2495"; /* us */

            embedded_metadata_height = "0";
         };

         mode1 { /* DIONE_IR_MODE_1280x1024_60FPS */
            mclk_khz = "24000";
            num_lanes = "2";
            tegra_sinterface = "serial_e";
            phy_mode = "DPHY";
            discontinuous_clk = "no";
            dpcm_enable = "false";
            cil_settletime = "0";

            active_w = "1280";
            active_h = "1024";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            readout_orientation = "0";
            line_length = "1334";
            /* inherent_gain = "1"; */
            /* mclk_multiplier = "9.33"; */
            pix_clk_hz = "83000000";

            /* unused */
            gain_factor = "16";
            exposure_factor = "1000000";
            min_gain_val = "16"; /* 1.00x */
            max_gain_val = "170"; /* 10.66x */
            step_gain_val = "1";
            default_gain = "16"; /* 1.00x */
            min_hdr_ratio = "1";
            max_hdr_ratio = "1";

            /* framerate */
            framerate_factor = "1000000";
            min_framerate = "40000000"; /* 40 fps */
            max_framerate = "62000000"; /* 62 fps */
            step_framerate = "1";
            default_framerate = "60756000"; /* 60.756 fps */

            /* unused */
            min_exp_time = "13"; /* us */
            max_exp_time = "683709"; /* us */
            step_exp_time = "1";
            default_exp_time = "2495"; /* us */

            embedded_metadata_height = "0";
         };

         mode2 { /* DIONE_IR_MODE_320x240_60FPS */
            mclk_khz = "24000";
            num_lanes = "2";
            tegra_sinterface = "serial_e";
            phy_mode = "DPHY";
            discontinuous_clk = "no";
            dpcm_enable = "false";
            cil_settletime = "0";

            active_w = "320";
            active_h = "240";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            readout_orientation = "0";
            line_length = "1404";
            /* inherent_gain = "1"; */
            /* mclk_multiplier = "9.33"; */
            pix_clk_hz = "20000000";

            /* unused */
            gain_factor = "16";
            exposure_factor = "1000000";
            min_gain_val = "16"; /* 1.00x */
            max_gain_val = "170"; /* 10.66x */
            step_gain_val = "1";
            default_gain = "16"; /* 1.00x */
            min_hdr_ratio = "1";
            max_hdr_ratio = "1";

            /* framerate */
            framerate_factor = "1000000";
            min_framerate = "40000000"; /* 40 fps */
            max_framerate = "62000000"; /* 62 fps */
            step_framerate = "1";
            default_framerate = "60020000"; /* 60.020 fps */

            /* unused */
            min_exp_time = "13"; /* us */
            max_exp_time = "683709"; /* us */
            step_exp_time = "1";
            default_exp_time = "2495"; /* us */

            embedded_metadata_height = "0";
         };

         mode3 { /* DIONE_IR_MODE_1024x768_60FPS */
            mclk_khz = "24000";
            num_lanes = "2";
            tegra_sinterface = "serial_e";
            phy_mode = "DPHY";
            discontinuous_clk = "no";
            dpcm_enable = "false";
            cil_settletime = "0";

            active_w = "1024";
            active_h = "768";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            readout_orientation = "0";
            line_length = "1079";
            /* inherent_gain = "1"; */
            /* mclk_multiplier = "9.33"; */
            pix_clk_hz = "83000000";

            /* unused */
            gain_factor = "16";
            exposure_factor = "1000000";
            min_gain_val = "16"; /* 1.00x */
            max_gain_val = "170"; /* 10.66x */
            step_gain_val = "1";
            default_gain = "16"; /* 1.00x */
            min_hdr_ratio = "1";
            max_hdr_ratio = "1";

            /* framerate */
            framerate_factor = "1000000";
            min_framerate = "40000000"; /* 40 fps */
            max_framerate = "62000000"; /* 62 fps */
            step_framerate = "1";
            default_framerate = "60756000"; /* 60.756 fps */

            /* unused */
            min_exp_time = "13"; /* us */
            max_exp_time = "683709"; /* us */
            step_exp_time = "1";
            default_exp_time = "2495"; /* us */

            embedded_metadata_height = "0";
         };

         ports {
            #address-cells = <1>;
            #size-cells = <0>;
            port@0 {
               reg = <0>;
               xenics_dione_ir_out2: endpoint {
                  port-index = <4>;
                  bus-width = <2>;
                  remote-endpoint = <&eg_cams_csi_in2>;
                  link-frequencies = /bits/ 64 <240000000 497000000>;
               };
            };
         };
      };
      eg_ec_cam2: eg_ec_e@16 {
         compatible = "xenics,eg-ec-mipi";
         reg = <0x16>;
         status = "disabled";

         // V4L2 device node location
         devnode = "video2";

         sensor_model = "eg_ec";

         use_sensor_mode_id = "true";

         mode0 { // EC_MODE_640x480_RAW16
            num_lanes = "2";
            tegra_sinterface = "serial_e";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "640";
            active_h = "480";
            line_length = "640";
            mode_type = "raw";
            pixel_phase = "grey";
            csi_pixel_bit_depth = "16";
            pix_clk_hz = "100000000";
            embedded_metadata_height = "0";
         };
         mode1 { // EC_MODE_640x480_RGB888
            num_lanes = "2";
            tegra_sinterface = "serial_e";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "640";
            active_h = "480";
            line_length = "640";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            pix_clk_hz = "100000000";
            embedded_metadata_height = "0";
         };
         mode2 { // EC_MODE_640x480_YUYV
            num_lanes = "2";
            tegra_sinterface = "serial_e";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "640";
            active_h = "480";
            line_length = "640";
            mode_type = "yuv";
            pixel_phase = "yuyv";
            csi_pixel_bit_depth = "16";
            pix_clk_hz = "100000000";
            embedded_metadata_height = "0";
         };
         mode3 { // EC_MODE_1280x1024_RAW16
            num_lanes = "2";
            tegra_sinterface = "serial_e";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "1280";
            active_h = "1024";
            line_length = "1280";
            mode_type = "raw";
            pixel_phase = "grey";
            csi_pixel_bit_depth = "16";
            pix_clk_hz = "133333336";
            embedded_metadata_height = "0";
         };
         mode4 { // EC_MODE_1280x1024_RGB888
            num_lanes = "2";
            tegra_sinterface = "serial_e";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "1280";
            active_h = "1024";
            line_length = "1280";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            pix_clk_hz = "100000000";
            embedded_metadata_height = "0";
         };
         mode5 { // EC_MODE_1280x1024_YUYV
            num_lanes = "2";
            tegra_sinterface = "serial_e";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "1280";
            active_h = "1024";
            line_length = "1280";
            mode_type = "yuv";
            pixel_phase = "yuyv";
            csi_pixel_bit_depth = "16";
            pix_clk_hz = "133333336";
            embedded_metadata_height = "0";
         };
         ports {
            #address-cells = <1>;
            #size-cells = <0>;
            port@0 {
               reg = <0>;
               eg_ec_out2: endpoint {
                  port-index = <4>;
                  bus-width = <2>;
                  remote-endpoint = <&eg_cams_csi_in2>;
               };
            };
         };
      };
	};
	i2c@3180000 {											//M222 CSI 23				
      dione_ir_cam3: xenics_dione_ir_c@0e {
         compatible = "xenics,dioneir";
         reg = <0x0e>;
         fpga-address = <0x5a 0x5b 0x5c 0x5d>;

         // V4L2 device node location
         devnode = "video3";

         /* Physical dimensions of sensor */
         physical_w = "7.680";
         physical_h = "5.760";

         sensor_model = "dione_ir";

         use_sensor_mode_id = "false";

         mode0 { /* DIONE_IR_MODE_640x480_60FPS */
            mclk_khz = "24000";
            num_lanes = "2";
            tegra_sinterface = "serial_c";
            phy_mode = "DPHY";
            discontinuous_clk = "no";
            dpcm_enable = "false";
            cil_settletime = "0";

            active_w = "640";
            active_h = "480";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            readout_orientation = "0";
            line_length = "694";
            /* inherent_gain = "1"; */
            /* mclk_multiplier = "9.33"; */
            pix_clk_hz = "20000000";

            /* unused */
            gain_factor = "16";
            exposure_factor = "1000000";
            min_gain_val = "16"; /* 1.00x */
            max_gain_val = "170"; /* 10.66x */
            step_gain_val = "1";
            default_gain = "16"; /* 1.00x */
            min_hdr_ratio = "1";
            max_hdr_ratio = "1";

            /* framerate */
            framerate_factor = "1000000";
            min_framerate = "40000000"; /* 40 fps */
            max_framerate = "62000000"; /* 62 fps */
            step_framerate = "1";
            default_framerate = "60020000"; /* 60.020 fps */

            /* unused */
            min_exp_time = "13"; /* us */
            max_exp_time = "683709"; /* us */
            step_exp_time = "1";
            default_exp_time = "2495"; /* us */

            embedded_metadata_height = "0";
         };

         mode1 { /* DIONE_IR_MODE_1280x1024_60FPS */
            mclk_khz = "24000";
            num_lanes = "2";
            tegra_sinterface = "serial_c";
            phy_mode = "DPHY";
            discontinuous_clk = "no";
            dpcm_enable = "false";
            cil_settletime = "0";

            active_w = "1280";
            active_h = "1024";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            readout_orientation = "0";
            line_length = "1334";
            /* inherent_gain = "1"; */
            /* mclk_multiplier = "9.33"; */
            pix_clk_hz = "83000000";

            /* unused */
            gain_factor = "16";
            exposure_factor = "1000000";
            min_gain_val = "16"; /* 1.00x */
            max_gain_val = "170"; /* 10.66x */
            step_gain_val = "1";
            default_gain = "16"; /* 1.00x */
            min_hdr_ratio = "1";
            max_hdr_ratio = "1";

            /* framerate */
            framerate_factor = "1000000";
            min_framerate = "40000000"; /* 40 fps */
            max_framerate = "62000000"; /* 62 fps */
            step_framerate = "1";
            default_framerate = "60756000"; /* 60.756 fps */

            /* unused */
            min_exp_time = "13"; /* us */
            max_exp_time = "683709"; /* us */
            step_exp_time = "1";
            default_exp_time = "2495"; /* us */

            embedded_metadata_height = "0";
         };

         mode2 { /* DIONE_IR_MODE_320x240_60FPS */
            mclk_khz = "24000";
            num_lanes = "2";
            tegra_sinterface = "serial_c";
            phy_mode = "DPHY";
            discontinuous_clk = "no";
            dpcm_enable = "false";
            cil_settletime = "0";

            active_w = "320";
            active_h = "240";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            readout_orientation = "0";
            line_length = "1404";
            /* inherent_gain = "1"; */
            /* mclk_multiplier = "9.33"; */
            pix_clk_hz = "20000000";

            /* unused */
            gain_factor = "16";
            exposure_factor = "1000000";
            min_gain_val = "16"; /* 1.00x */
            max_gain_val = "170"; /* 10.66x */
            step_gain_val = "1";
            default_gain = "16"; /* 1.00x */
            min_hdr_ratio = "1";
            max_hdr_ratio = "1";

            /* framerate */
            framerate_factor = "1000000";
            min_framerate = "40000000"; /* 40 fps */
            max_framerate = "62000000"; /* 62 fps */
            step_framerate = "1";
            default_framerate = "60020000"; /* 60.020 fps */

            /* unused */
            min_exp_time = "13"; /* us */
            max_exp_time = "683709"; /* us */
            step_exp_time = "1";
            default_exp_time = "2495"; /* us */

            embedded_metadata_height = "0";
         };

         mode3 { /* DIONE_IR_MODE_1024x768_60FPS */
            mclk_khz = "24000";
            num_lanes = "2";
            tegra_sinterface = "serial_c";
            phy_mode = "DPHY";
            discontinuous_clk = "no";
            dpcm_enable = "false";
            cil_settletime = "0";

            active_w = "1024";
            active_h = "768";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            readout_orientation = "0";
            line_length = "1079";
            /* inherent_gain = "1"; */
            /* mclk_multiplier = "9.33"; */
            pix_clk_hz = "83000000";

            /* unused */
            gain_factor = "16";
            exposure_factor = "1000000";
            min_gain_val = "16"; /* 1.00x */
            max_gain_val = "170"; /* 10.66x */
            step_gain_val = "1";
            default_gain = "16"; /* 1.00x */
            min_hdr_ratio = "1";
            max_hdr_ratio = "1";

            /* framerate */
            framerate_factor = "1000000";
            min_framerate = "40000000"; /* 40 fps */
            max_framerate = "62000000"; /* 62 fps */
            step_framerate = "1";
            default_framerate = "60756000"; /* 60.756 fps */

            /* unused */
            min_exp_time = "13"; /* us */
            max_exp_time = "683709"; /* us */
            step_exp_time = "1";
            default_exp_time = "2495"; /* us */

            embedded_metadata_height = "0";
         };

         ports {
            #address-cells = <1>;
            #size-cells = <0>;
            port@0 {
               reg = <0>;
               xenics_dione_ir_out3: endpoint {
                  port-index = <2>;
                  bus-width = <2>;
                  remote-endpoint = <&eg_cams_csi_in3>;
                  link-frequencies = /bits/ 64 <240000000 497000000>;
               };
            };
         };
      };
      eg_ec_cam3: eg_ec_c@16 {
         compatible = "xenics,eg-ec-mipi";
         reg = <0x16>;
         status = "disabled";

         // V4L2 device node location
         devnode = "video3";

         sensor_model = "eg_ec";

         use_sensor_mode_id = "true";

         mode0 { // EC_MODE_640x480_RAW16
            num_lanes = "2";
            tegra_sinterface = "serial_c";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "640";
            active_h = "480";
            line_length = "640";
            mode_type = "raw";
            pixel_phase = "grey";
            csi_pixel_bit_depth = "16";
            pix_clk_hz = "100000000";
            embedded_metadata_height = "0";
         };
         mode1 { // EC_MODE_640x480_RGB888
            num_lanes = "2";
            tegra_sinterface = "serial_c";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "640";
            active_h = "480";
            line_length = "640";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            pix_clk_hz = "100000000";
            embedded_metadata_height = "0";
         };
         mode2 { // EC_MODE_640x480_YUYV
            num_lanes = "2";
            tegra_sinterface = "serial_c";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "640";
            active_h = "480";
            line_length = "640";
            mode_type = "yuv";
            pixel_phase = "yuyv";
            csi_pixel_bit_depth = "16";
            pix_clk_hz = "100000000";
            embedded_metadata_height = "0";
         };
         mode3 { // EC_MODE_1280x1024_RAW16
            num_lanes = "2";
            tegra_sinterface = "serial_c";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "1280";
            active_h = "1024";
            line_length = "1280";
            mode_type = "raw";
            pixel_phase = "grey";
            csi_pixel_bit_depth = "16";
            pix_clk_hz = "133333336";
            embedded_metadata_height = "0";
         };
         mode4 { // EC_MODE_1280x1024_RGB888
            num_lanes = "2";
            tegra_sinterface = "serial_c";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "1280";
            active_h = "1024";
            line_length = "1280";
            mode_type = "rgb";
            pixel_phase = "rgb888";
            csi_pixel_bit_depth = "24";
            pix_clk_hz = "100000000";
            embedded_metadata_height = "0";
         };
         mode5 { // EC_MODE_1280x1024_YUYV
            num_lanes = "2";
            tegra_sinterface = "serial_c";
            phy_mode = "DPHY";
            discontinuous_clk = "yes";
            dpcm_enable = "false";
            cil_settletime = "0";
            active_w = "1280";
            active_h = "1024";
            line_length = "1280";
            mode_type = "yuv";
            pixel_phase = "yuyv";
            csi_pixel_bit_depth = "16";
            pix_clk_hz = "133333336";
            embedded_metadata_height = "0";
         };
         ports {
            #address-cells = <1>;
            #size-cells = <0>;
            port@0 {
               reg = <0>;
               eg_ec_out3: endpoint {
                  port-index = <2>;
                  bus-width = <2>;
                  remote-endpoint = <&eg_cams_csi_in3>;
               };
            };
         };
      };
   };
};


/ {
	tegra-camera-platform {
		compatible = "nvidia, tegra-camera-platform";

		num_csi_lanes = <8>;
		max_lane_speed = <1500000>;
		min_bits_per_pixel = <10>;
		vi_peak_byte_per_pixel = <2>;
		vi_bw_margin_pct = <25>;
		max_pixel_rate = <240000>;
		isp_peak_byte_per_pixel = <5>;
		isp_bw_margin_pct = <25>;

		modules {
			module0 {
				badge = "jakku_topright_eg_cam";
				position = "topright";
				orientation = "1";
				cam_module0_drivernode0: drivernode0 {
					pcl_id = "v4l2_sensor";
					devname = "dione_ir 8-0016";
					proc-device-tree = "/proc/device-tree/i2c@31e0000/xenics_dione_ir_a@0e";
				};
			};
			module1 {
				badge = "jakku_bottomright_eg_cam";
				position = "bottomright";
				orientation = "1";
				cam_module1_drivernode0: drivernode0 {
					pcl_id = "v4l2_sensor";
					devname = "dione_ir 1-0016";
					proc-device-tree = "/proc/device-tree/i2c@c240000/xenics_dione_ir_g@0e";
				};
			};
			module2 {
				badge = "jakku_topleft_eg_cam";
				position = "topleft";
				orientation = "1";
				cam_module2_drivernode0: drivernode0 {
					pcl_id = "v4l2_sensor";
					devname = "dione_ir 7-0016";
					proc-device-tree = "/proc/device-tree/i2c@c250000/xenics_dione_ir_e@0e";
				};
			};
			module3 {
				badge = "jakku_bottomleft_eg_cam";
				position = "bottomleft";
				orientation = "1";
				cam_module3_drivernode0: drivernode0 {
					pcl_id = "v4l2_sensor";
					devname = "dione_ir 2-0016";
					proc-device-tree = "/proc/device-tree/i2c@3180000/xenics_dione_ir_e@0e";
				};
			};
		};
	};
};
